<%# Share with submenu - quick share with collaborators (scrollable) %>
<div class="menu-item-with-submenu" data-controller="direct-share" data-direct-share-asset-id-value="<%= asset.id %>">
  <button class="menu-item menu-item-parent" data-action="mouseenter->direct-share#loadRecipients">
    <span>Share with</span>
    <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
      <path d="M4.5 2L8.5 6L4.5 10" stroke="currentColor" stroke-width="1.5" fill="none"/>
    </svg>
  </button>
  <div class="submenu" data-direct-share-target="menu">
    <div class="submenu-inner access-submenu share-with-submenu">
      <%# Search input %>
      <div class="share-with-search hidden" data-direct-share-target="searchContainer">
        <input type="text"
               placeholder="Search collaborators..."
               class="share-with-search-input"
               data-direct-share-target="searchInput"
               data-action="input->direct-share#filterRecipients">
      </div>

      <%# Loading state %>
      <div class="access-submenu-loading" data-direct-share-target="loading">
        <span>Loading...</span>
      </div>

      <%# Recipients list (populated by JS, scrollable) %>
      <div class="share-with-list" data-direct-share-target="list"></div>

      <%# Empty state %>
      <div class="access-submenu-empty hidden" data-direct-share-target="empty">
        <span>No collaborators yet</span>
      </div>
    </div>
  </div>
</div>
